# Auto Paper Digest ç”¨æˆ·æ“ä½œæ‰‹å†Œ

> å®Œæ•´çš„ä½¿ç”¨æ•™ç¨‹å’Œæœ€ä½³å®è·µæŒ‡å—

**ç‰ˆæœ¬**: v2.1
**æ›´æ–°æ—¥æœŸ**: 2026-02-04

---

## ğŸ“‹ ç›®å½•

- [ç¬¬ä¸€ç« ï¼šå®‰è£…ä¸é…ç½®](#ç¬¬ä¸€ç« å®‰è£…ä¸é…ç½®)
- [ç¬¬äºŒç« ï¼šåŸºç¡€ä½¿ç”¨](#ç¬¬äºŒç« åŸºç¡€ä½¿ç”¨)
- [ç¬¬ä¸‰ç« ï¼šå¤šå¹³å°å‘å¸ƒ](#ç¬¬ä¸‰ç« å¤šå¹³å°å‘å¸ƒ)
- [ç¬¬å››ç« ï¼šé«˜çº§åŠŸèƒ½](#ç¬¬å››ç« é«˜çº§åŠŸèƒ½)
- [ç¬¬äº”ç« ï¼šæœ€ä½³å®è·µ](#ç¬¬äº”ç« æœ€ä½³å®è·µ)
- [ç¬¬å…­ç« ï¼šæ•…éšœæ’é™¤](#ç¬¬å…­ç« æ•…éšœæ’é™¤)
- [é™„å½•ï¼šå‘½ä»¤é€ŸæŸ¥è¡¨](#é™„å½•å‘½ä»¤é€ŸæŸ¥è¡¨)

---

## ç¬¬ä¸€ç« ï¼šå®‰è£…ä¸é…ç½®

### 1.1 ç³»ç»Ÿè¦æ±‚

**æœ€ä½è¦æ±‚**:
- Python 3.11+
- ç£ç›˜ç©ºé—´: 10GB+
- å†…å­˜: 4GB+
- ç½‘ç»œ: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

**æ¨èé…ç½®**:
- Python 3.11+
- ç£ç›˜ç©ºé—´: 50GB+
- å†…å­˜: 8GB+
- ç³»ç»Ÿ: Windows 10/11, macOS 12+, Ubuntu 20.04+

### 1.2 Docker å®‰è£…ï¼ˆæ¨èï¼‰

#### ä¸ºä»€ä¹ˆé€‰æ‹© Dockerï¼Ÿ

- âœ… ç¯å¢ƒéš”ç¦»ï¼Œä¸æ±¡æŸ“ç³»ç»Ÿ
- âœ… ä¸€é”®éƒ¨ç½²ï¼Œæ— éœ€é…ç½®
- âœ… è·¨å¹³å°æ”¯æŒ
- âœ… æ˜“äºå‡çº§å’Œç»´æŠ¤

#### å®‰è£…æ­¥éª¤

**Step 1: å®‰è£… Docker**

- **Windows/Mac**: ä¸‹è½½ [Docker Desktop](https://www.docker.com/products/docker-desktop/)
- **Linux**:
  ```bash
  curl -fsSL https://get.docker.com | sh
  sudo usermod -aG docker $USER
  ```

**Step 2: éªŒè¯å®‰è£…**

```bash
docker --version
docker-compose --version
```

**Step 3: å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/brianxiadong/auto-paper-digest.git
cd auto-paper-digest
```

**Step 4: é…ç½®ç¯å¢ƒå˜é‡**

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```bash
# å¿…éœ€é…ç½®
HF_TOKEN=hf_xxxxxxxxxxxxxxxxxxxxx
HF_USERNAME=your-username
HF_DATASET_NAME=paper-digest-videos

# å¯é€‰é…ç½®
MIN_QUALITY_SCORE=60.0
MIN_GITHUB_STARS=100
```

**è·å– HuggingFace Token**:
1. è®¿é—® https://huggingface.co/settings/tokens
2. ç‚¹å‡» "New token"
3. é€‰æ‹© "Write" æƒé™
4. å¤åˆ¶ Token åˆ° `.env` æ–‡ä»¶

**Step 5: å¯åŠ¨æœåŠ¡**

```bash
# æ–¹å¼ A: ä½¿ç”¨ Makefileï¼ˆæ¨èï¼‰
make up

# æ–¹å¼ B: ä½¿ç”¨ docker-compose
docker-compose up -d

# æ–¹å¼ C: ä½¿ç”¨éƒ¨ç½²è„šæœ¬
# Windows
deploy\deploy_local.bat prod
# Linux/Mac
./deploy/deploy_local.sh prod
```

**Step 6: éªŒè¯è¿è¡Œ**

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# è®¿é—® Web é—¨æˆ·
# æµè§ˆå™¨æ‰“å¼€: http://localhost:7860
```

### 1.3 æœ¬åœ°å®‰è£…

å¦‚æœä¸ä½¿ç”¨ Dockerï¼Œå¯ä»¥æœ¬åœ°å®‰è£…ï¼š

**Step 1: å®‰è£… Python ä¾èµ–**

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/brianxiadong/auto-paper-digest.git
cd auto-paper-digest

# å®‰è£…ä¾èµ–
pip install -e .
```

**Step 2: å®‰è£… Playwright æµè§ˆå™¨**

```bash
playwright install chromium
```

**Step 3: é…ç½®ç¯å¢ƒå˜é‡**

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶
```

**Step 4: åˆå§‹åŒ–æ•°æ®åº“**

```bash
# æ•°æ®åº“ä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»º
apd status
```

### 1.4 é¦–æ¬¡ç™»å½•é…ç½®

#### Google ç™»å½•ï¼ˆNotebookLMï¼‰

```bash
apd login
```

**æ“ä½œæµç¨‹**:
1. å‘½ä»¤æ‰§è¡Œåä¼šæ‰“å¼€æµè§ˆå™¨
2. è®¿é—® NotebookLM ç™»å½•é¡µé¢
3. ä½¿ç”¨ Google è´¦å·ç™»å½•
4. ç™»å½•æˆåŠŸåï¼Œä¼šè¯è‡ªåŠ¨ä¿å­˜
5. å…³é—­æµè§ˆå™¨çª—å£

**ç™»å½•çŠ¶æ€ä¿å­˜ä½ç½®**: `data/profiles/default/`

#### æŠ–éŸ³ç™»å½•

```bash
apd douyin-login
```

**æ“ä½œæµç¨‹**:
1. æµè§ˆå™¨æ‰“å¼€æŠ–éŸ³åˆ›ä½œè€…ä¸­å¿ƒ
2. ä½¿ç”¨æŠ–éŸ³ APP æ‰«ç ç™»å½•
3. ç™»å½•æˆåŠŸåæŒ‰å›è½¦
4. ç™»å½•çŠ¶æ€ä¿å­˜

**ç™»å½•çŠ¶æ€ä¿å­˜ä½ç½®**: `data/.douyin_auth.json`

#### Bç«™ç™»å½•

```bash
apd bilibili-login
```

**æ“ä½œæµç¨‹**:
1. æµè§ˆå™¨æ‰“å¼€ Bç«™åˆ›ä½œè€…ä¸­å¿ƒ
2. æ‰«æäºŒç»´ç ç™»å½•
3. ç™»å½•æˆåŠŸåæŒ‰å›è½¦
4. ç™»å½•çŠ¶æ€ä¿å­˜

**ç™»å½•çŠ¶æ€ä¿å­˜ä½ç½®**: `data/.bilibili_auth.json`

#### å°çº¢ä¹¦ç™»å½•

```bash
apd xiaohongshu-login
```

**æ“ä½œæµç¨‹**:
1. æµè§ˆå™¨æ‰“å¼€å°çº¢ä¹¦åˆ›ä½œè€…ä¸­å¿ƒ
2. ä½¿ç”¨å°çº¢ä¹¦ APP æ‰«ç ç™»å½•
3. ç™»å½•æˆåŠŸåæŒ‰å›è½¦
4. ç™»å½•çŠ¶æ€ä¿å­˜

**ç™»å½•çŠ¶æ€ä¿å­˜ä½ç½®**: `data/.xiaohongshu_auth.json`

> ğŸ’¡ **æç¤º**: ç™»å½•çŠ¶æ€é•¿æœŸæœ‰æ•ˆï¼Œé€šå¸¸åªéœ€ç™»å½•ä¸€æ¬¡ã€‚

---

## ç¬¬äºŒç« ï¼šåŸºç¡€ä½¿ç”¨

### 2.1 æ ¸å¿ƒå·¥ä½œæµç¨‹

Auto Paper Digest çš„å·¥ä½œæµç¨‹åˆ†ä¸º 3 ä¸ªé˜¶æ®µï¼š

```
Phase 1: è·å–å†…å®¹ + ç”Ÿæˆè§†é¢‘
    â†“
Phase 2: ä¸‹è½½è§†é¢‘
    â†“
Phase 3: å‘å¸ƒåˆ°å¹³å°
```

### 2.2 Phase 1: è·å–å†…å®¹å¹¶ç”Ÿæˆè§†é¢‘

#### è·å– HuggingFace è®ºæ–‡

```bash
# è·å–æœ¬å‘¨è®ºæ–‡
apd fetch --week 2026-05 --max 20

# è·å–æŒ‡å®šæ—¥æœŸçš„è®ºæ–‡
apd fetch --date 2026-02-04 --max 10

# æŒ‰å‘¨è‡ªåŠ¨å¤„ç†ï¼ˆè·å–+ä¸‹è½½PDF+ä¸Šä¼ +ç”Ÿæˆè§†é¢‘ï¼‰
apd upload --week 2026-05 --headful --max 20
```

**å‚æ•°è¯´æ˜**:
- `--week, -w`: å‘¨IDï¼ˆæ ¼å¼ï¼šYYYY-WWï¼‰
- `--date, -d`: æ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYY-MM-DDï¼‰
- `--max, -m`: æœ€å¤§è·å–æ•°é‡
- `--headful`: æ˜¾ç¤ºæµè§ˆå™¨çª—å£ï¼ˆé¦–æ¬¡ä½¿ç”¨æ¨èï¼‰

#### è·å– GitHub Trending

```bash
# è·å–å½“æ—¥çƒ­é—¨é¡¹ç›®
apd fetch-github --date 2026-02-04 --max 20

# æŒ‰ç¼–ç¨‹è¯­è¨€è¿‡æ»¤
apd fetch-github --date 2026-02-04 --language python --max 20

# æŒ‰æ—¶é—´èŒƒå›´è·å–
apd fetch-github --date 2026-02-04 --since weekly
```

**æ”¯æŒçš„è¯­è¨€**: python, javascript, typescript, go, rust, java, c++, etc.
**æ—¶é—´èŒƒå›´**: daily, weekly, monthly

#### è·å–çƒ­æ¦œæ–°é—»

```bash
# å¾®åšçƒ­æœ
apd fetch-news --date 2026-02-04 --source weibo --max 50

# çŸ¥ä¹çƒ­æ¦œ
apd fetch-news --date 2026-02-04 --source zhihu --max 30

# ç™¾åº¦çƒ­æœ
apd fetch-news --date 2026-02-04 --source baidu --max 50
```

#### upload å‘½ä»¤ï¼ˆä¸€é”®æµç¨‹ï¼‰

`upload` å‘½ä»¤ä¼šè‡ªåŠ¨å®Œæˆï¼š
1. è·å–å†…å®¹åˆ—è¡¨
2. ä¸‹è½½ PDFï¼ˆå¦‚æœæ˜¯è®ºæ–‡ï¼‰
3. ä¸Šä¼ åˆ° NotebookLM
4. è§¦å‘è§†é¢‘ç”Ÿæˆ

```bash
# å®Œæ•´å‘½ä»¤
apd upload --week 2026-05 --headful --max 20

# åå°è¿è¡Œ
apd upload --week 2026-05 --max 20
```

**æ³¨æ„äº‹é¡¹**:
- è§†é¢‘ç”Ÿæˆéœ€è¦æ—¶é—´ï¼ˆé€šå¸¸ 5-15 åˆ†é’Ÿ/è§†é¢‘ï¼‰
- `upload` å‘½ä»¤ä¸ç­‰å¾…è§†é¢‘ç”Ÿæˆå®Œæˆ
- éœ€è¦ç¨åè¿è¡Œ `download-video` ä¸‹è½½è§†é¢‘

### 2.3 Phase 2: ä¸‹è½½è§†é¢‘

è§†é¢‘ç”Ÿæˆå®Œæˆåï¼ˆé€šå¸¸ç­‰å¾… 10-30 åˆ†é’Ÿï¼‰ï¼Œä¸‹è½½è§†é¢‘ï¼š

```bash
# ä¸‹è½½æœ¬å‘¨è§†é¢‘
apd download-video --week 2026-05 --headful

# ä¸‹è½½æŒ‡å®šæ—¥æœŸè§†é¢‘
apd download-video --date 2026-02-04 --headful

# å¼ºåˆ¶é‡æ–°ä¸‹è½½
apd download-video --week 2026-05 --force --headful
```

**æç¤º**:
- å·²ä¸‹è½½çš„è§†é¢‘ä¼šè‡ªåŠ¨è·³è¿‡
- ä½¿ç”¨ `--force` å¼ºåˆ¶é‡æ–°ä¸‹è½½
- é¦–æ¬¡ä½¿ç”¨å»ºè®®æ·»åŠ  `--headful` ä»¥è§‚å¯Ÿè¿‡ç¨‹

### 2.4 Phase 3: å‘å¸ƒåˆ° HuggingFace

```bash
# å‘å¸ƒåˆ° HuggingFace Dataset
apd publish --week 2026-05
```

**è¯¥å‘½ä»¤ä¼š**:
1. ä¸Šä¼ è§†é¢‘åˆ° HuggingFace Dataset
2. æ›´æ–° metadata.json
3. ç”Ÿæˆ README.md æ‘˜è¦

**è®¿é—®å‘å¸ƒçš„å†…å®¹**:
```
https://huggingface.co/datasets/[your-username]/[dataset-name]
```

### 2.5 æŸ¥çœ‹å¤„ç†çŠ¶æ€

```bash
# æŸ¥çœ‹æ‰€æœ‰å†…å®¹çŠ¶æ€
apd status --week 2026-05

# æŸ¥çœ‹ç‰¹å®šçŠ¶æ€çš„å†…å®¹
apd status --week 2026-05 --status VIDEO_OK

# æ˜¾ç¤ºè´¨é‡è¯„åˆ†
apd status --week 2026-05 --show-scores

# è¿‡æ»¤ä½è´¨é‡å†…å®¹
apd status --week 2026-05 --min-quality 70
```

**çŠ¶æ€è¯´æ˜**:

| çŠ¶æ€ | è¯´æ˜ |
|------|------|
| NEW | å·²è·å–ï¼Œå¾…å¤„ç† |
| PDF_OK | PDF å·²ä¸‹è½½ |
| NBLM_OK | å·²ä¸Šä¼  NotebookLMï¼Œè§†é¢‘ç”Ÿæˆä¸­ |
| VIDEO_OK | è§†é¢‘å·²ä¸‹è½½ï¼Œå¯ä»¥å‘å¸ƒ |
| ERROR | å¤„ç†å¤±è´¥ |

---

## ç¬¬ä¸‰ç« ï¼šå¤šå¹³å°å‘å¸ƒ

### 3.1 å‘å¸ƒåˆ°æŠ–éŸ³

#### é¦–æ¬¡ç™»å½•

```bash
apd douyin-login
```

æŒ‰æç¤ºä½¿ç”¨æŠ–éŸ³ APP æ‰«ç ç™»å½•ã€‚

#### å‘å¸ƒè§†é¢‘ï¼ˆåŠè‡ªåŠ¨æ¨¡å¼ï¼‰

```bash
# å‘å¸ƒæœ¬å‘¨è§†é¢‘
apd publish-douyin --week 2026-05 --headful

# å‘å¸ƒæŒ‡å®šæ—¥æœŸè§†é¢‘
apd publish-douyin --date 2026-02-04 --headful

# å‘å¸ƒå•ä¸ªè§†é¢‘
apd publish-douyin --paper-id arxiv:2601.12345 --headful
```

#### åŠè‡ªåŠ¨æ¨¡å¼æµç¨‹

1. **è‡ªåŠ¨é˜¶æ®µ**ï¼ˆè„šæœ¬æ‰§è¡Œï¼‰:
   - æ‰“å¼€æŠ–éŸ³åˆ›ä½œè€…ä¸­å¿ƒ
   - ä¸Šä¼ è§†é¢‘æ–‡ä»¶
   - å¡«å†™æ ‡é¢˜
   - æ·»åŠ è¯é¢˜æ ‡ç­¾
   - å¡«å†™æè¿°

2. **æ‰‹åŠ¨é˜¶æ®µ**ï¼ˆç”¨æˆ·æ“ä½œï¼‰:
   - è„šæœ¬æš‚åœï¼Œæ˜¾ç¤ºæç¤º
   - åœ¨æµè§ˆå™¨ä¸­æ£€æŸ¥å†…å®¹
   - æ‰‹åŠ¨ç‚¹å‡»ã€å‘å¸ƒã€‘æŒ‰é’®
   - åœ¨ç»ˆç«¯æŒ‰å›è½¦ç»§ç»­

3. **å®Œæˆé˜¶æ®µ**:
   - æ›´æ–°æ•°æ®åº“çŠ¶æ€
   - æ˜¾ç¤ºå‘å¸ƒç»“æœ

#### è‡ªåŠ¨å‘å¸ƒæ¨¡å¼ï¼ˆä¸æ¨èï¼‰

```bash
apd publish-douyin --week 2026-05 --headful --auto-publish
```

âš ï¸ **è­¦å‘Š**: è‡ªåŠ¨æ¨¡å¼ä¼šè·³è¿‡äººå·¥ç¡®è®¤ï¼Œå¯èƒ½å¯¼è‡´è¯¯å‘å¸ƒã€‚ä»…åœ¨å……åˆ†æµ‹è¯•åä½¿ç”¨ã€‚

### 3.2 å‘å¸ƒåˆ° Bç«™

#### é¦–æ¬¡ç™»å½•

```bash
apd bilibili-login
```

#### å‘å¸ƒè§†é¢‘

```bash
# åŠè‡ªåŠ¨æ¨¡å¼ï¼ˆæ¨èï¼‰
apd publish-bilibili --week 2026-05 --headful

# å‘å¸ƒæŒ‡å®šæ—¥æœŸ
apd publish-bilibili --date 2026-02-04 --headful

# å¼ºåˆ¶é‡æ–°å‘å¸ƒ
apd publish-bilibili --week 2026-05 --force --headful
```

**Bç«™ç‰¹ç‚¹**:
- æ”¯æŒæ›´é•¿çš„è§†é¢‘ï¼ˆæœ€é•¿ 4 å°æ—¶ï¼‰
- æ ‡é¢˜é™åˆ¶ 80 å­—ç¬¦
- å¯ä»¥é€‰æ‹©è§†é¢‘åˆ†åŒº
- æ”¯æŒæ·»åŠ æ ‡ç­¾

### 3.3 å‘å¸ƒåˆ°å°çº¢ä¹¦

#### é¦–æ¬¡ç™»å½•

```bash
apd xiaohongshu-login
```

#### å‘å¸ƒè§†é¢‘

```bash
# åŠè‡ªåŠ¨æ¨¡å¼ï¼ˆæ¨èï¼‰
apd publish-xiaohongshu --week 2026-05 --headful

# å‘å¸ƒæŒ‡å®šæ—¥æœŸ
apd publish-xiaohongshu --date 2026-02-04 --headful
```

**å°çº¢ä¹¦ç‰¹ç‚¹**:
- æ ‡é¢˜é™åˆ¶ 100 å­—ç¬¦
- æè¿°é™åˆ¶ 1000 å­—ç¬¦
- æœ€å¤š 5 ä¸ªè¯é¢˜æ ‡ç­¾
- é‡è§†å°é¢è´¨é‡

#### è¯¦ç»†ä½¿ç”¨æŒ‡å—

æŸ¥çœ‹ [å°çº¢ä¹¦å‘å¸ƒæŒ‡å—](./XIAOHONGSHU_GUIDE.md) è·å–æ›´å¤šä¿¡æ¯ã€‚

### 3.4 æ‰¹é‡å‘å¸ƒåˆ°å¤šå¹³å°

åˆ›å»ºæ‰¹é‡å‘å¸ƒè„šæœ¬ï¼š

```bash
#!/bin/bash
# publish_all.sh

WEEK="2026-05"

echo "å¼€å§‹å‘å¸ƒåˆ°æ‰€æœ‰å¹³å°..."

# HuggingFace
echo "å‘å¸ƒåˆ° HuggingFace..."
apd publish --week $WEEK

# æŠ–éŸ³
echo "å‘å¸ƒåˆ°æŠ–éŸ³..."
apd publish-douyin --week $WEEK --headful

# Bç«™
echo "å‘å¸ƒåˆ° Bç«™..."
apd publish-bilibili --week $WEEK --headful

# å°çº¢ä¹¦
echo "å‘å¸ƒåˆ°å°çº¢ä¹¦..."
apd publish-xiaohongshu --week $WEEK --headful

echo "æ‰€æœ‰å¹³å°å‘å¸ƒå®Œæˆï¼"
```

è¿è¡Œï¼š

```bash
chmod +x publish_all.sh
./publish_all.sh
```

---

## ç¬¬å››ç« ï¼šé«˜çº§åŠŸèƒ½

### 4.1 è´¨é‡æ§åˆ¶ç³»ç»Ÿ

Auto Paper Digest å†…ç½®æ™ºèƒ½è´¨é‡è¯„åˆ†ç³»ç»Ÿã€‚

#### æŸ¥çœ‹è´¨é‡è¯„åˆ†

```bash
# æ˜¾ç¤ºæ‰€æœ‰å†…å®¹çš„è´¨é‡è¯„åˆ†
apd status --week 2026-05 --show-scores
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
Paper ID        Score  Status     Title
--------------------------------------------------------------------------------
arxiv:2601.12345  85.5   ğŸ†• NEW     Attention Is All You Need
arxiv:2601.12346  72.0   ğŸ“„ PDF_OK  Transformer Analysis
arxiv:2601.12347  45.2   ğŸ†• NEW     Preliminary Study ğŸš«
```

#### é…ç½®è´¨é‡é˜ˆå€¼

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```bash
# è´¨é‡æ§åˆ¶é…ç½®
MIN_QUALITY_SCORE=60.0      # æœ€ä½è´¨é‡è¯„åˆ†
MIN_CITATIONS=0             # æœ€ä½å¼•ç”¨æ•°
MIN_GITHUB_STARS=100        # GitHub æœ€ä½æ˜Ÿæ ‡æ•°
```

#### æŸ¥çœ‹è¢«è¿‡æ»¤çš„å†…å®¹

```bash
apd status --week 2026-05 --status FILTERED
```

#### è´¨é‡è¯„åˆ†ç»´åº¦

è®ºæ–‡è¯„åˆ†åŒ…å«ï¼š
- **å¼•ç”¨æ•°è¯„åˆ†** (35%æƒé‡): åŸºäºè®ºæ–‡å¼•ç”¨æ•°
- **ä½œè€…è¯„åˆ†** (25%æƒé‡): åŸºäºä½œè€…å½±å“åŠ›
- **ä¼šè®®ç­‰çº§** (30%æƒé‡): åŸºäºå‘è¡¨ä¼šè®®/æœŸåˆŠç­‰çº§
- **æ—¶æ•ˆæ€§è¯„åˆ†** (10%æƒé‡): åŸºäºå‘è¡¨æ—¶é—´

GitHub é¡¹ç›®è¯„åˆ†åŒ…å«ï¼š
- **Star æ•°** (40%æƒé‡): é¡¹ç›®çƒ­åº¦
- **ç¼–ç¨‹è¯­è¨€** (20%æƒé‡): æµè¡Œåº¦
- **æ´»è·ƒåº¦** (40%æƒé‡): æœ€è¿‘æ›´æ–°æƒ…å†µ

è¯¦ç»†è¯´æ˜: [è´¨é‡æ§åˆ¶æŒ‡å—](./QUALITY_CONTROL_GUIDE.md)

### 4.2 æ™ºèƒ½å»é‡

#### æ£€æµ‹é‡å¤å†…å®¹

```bash
# æ£€æµ‹é‡å¤
apd dedup --week 2026-05 --show-details

# è‡ªåŠ¨åˆå¹¶é‡å¤é¡¹
apd dedup --week 2026-05 --auto-merge
```

#### å»é‡å±‚çº§

1. **Level 1: URL ç²¾ç¡®åŒ¹é…**
   - arXiv ID æ ‡å‡†åŒ–
   - å®Œå…¨ç›¸åŒçš„ URL

2. **Level 2: æ ‡é¢˜ç›¸ä¼¼åº¦**
   - Levenshtein è·ç¦»
   - é˜ˆå€¼: 85%

3. **Level 3: è¯­ä¹‰ç›¸ä¼¼åº¦**
   - Sentence-BERT embeddings
   - é˜ˆå€¼: 90%

### 4.3 æ™ºèƒ½æ¨èç³»ç»Ÿ

#### è·å–æ¨è

```bash
# çƒ­é—¨æ¨è
apd recommend --strategy popular --limit 10

# ç›¸ä¼¼æ¨è
apd recommend --strategy similar --based-on arxiv:2601.12345 --limit 5

# ååŒè¿‡æ»¤
apd recommend --strategy collaborative --user alice --limit 10

# æ··åˆæ¨è
apd recommend --strategy hybrid --user bob --limit 10
```

#### è®°å½•ç”¨æˆ·äº¤äº’

```bash
# æŸ¥çœ‹
apd interact arxiv:2601.12345 --action view

# æ”¶è—
apd interact arxiv:2601.12345 --action favorite

# åˆ†äº«
apd interact arxiv:2601.12345 --action share
```

### 4.4 è‡ªå®šä¹‰å·¥ä½œæµ

#### åˆ›å»ºè‡ªå®šä¹‰è„šæœ¬

**ç¤ºä¾‹ 1: æ¯æ—¥è‡ªåŠ¨è·å–è®ºæ–‡**

```bash
#!/bin/bash
# daily_fetch.sh

DATE=$(date +%Y-%m-%d)

echo "è·å– $DATE çš„è®ºæ–‡..."
apd fetch --date $DATE --max 20

echo "è´¨é‡è¯„åˆ†..."
apd status --date $DATE --show-scores

echo "å®Œæˆï¼"
```

**ç¤ºä¾‹ 2: å®šæ—¶è§†é¢‘ç”Ÿæˆ**

```bash
#!/bin/bash
# weekly_video.sh

WEEK=$(date +%Y-%V)

echo "å¤„ç† $WEEK å‘¨çš„å†…å®¹..."

# 1. è·å–å¹¶ä¸Šä¼ 
apd upload --week $WEEK --max 30

# 2. ç­‰å¾… 30 åˆ†é’Ÿ
sleep 1800

# 3. ä¸‹è½½è§†é¢‘
apd download-video --week $WEEK --headful

# 4. å‘å¸ƒ
apd publish --week $WEEK

echo "å‘¨å¤„ç†å®Œæˆï¼"
```

**è®¾ç½®å®šæ—¶ä»»åŠ¡**:

```bash
# Linux/Mac - crontab
# æ¯å‘¨ä¸€æ—©ä¸Š 9 ç‚¹æ‰§è¡Œ
0 9 * * 1 /path/to/weekly_video.sh

# Windows - ä»»åŠ¡è®¡åˆ’ç¨‹åº
# åˆ›å»ºè®¡åˆ’ä»»åŠ¡æŒ‡å‘è„šæœ¬
```

### 4.5 Docker é«˜çº§ä½¿ç”¨

#### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹èµ„æºä½¿ç”¨
docker stats
```

#### æŸ¥çœ‹æ—¥å¿—

```bash
# æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker-compose logs -f

# ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f apd
docker-compose logs -f scheduler
docker-compose logs -f portal
```

#### è¿›å…¥å®¹å™¨

```bash
# è¿›å…¥ä¸»å®¹å™¨
docker-compose exec apd bash

# åœ¨å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤
docker-compose exec apd apd status --week 2026-05
```

#### å¤‡ä»½æ•°æ®

```bash
# å¤‡ä»½æ•°æ®ç›®å½•
tar -czf apd-backup-$(date +%Y%m%d).tar.gz data/

# å¤‡ä»½æ•°æ®åº“
docker-compose exec apd sqlite3 /app/data/apd.db .dump > backup.sql
```

#### æ¢å¤æ•°æ®

```bash
# æ¢å¤æ•°æ®ç›®å½•
tar -xzf apd-backup-20260204.tar.gz

# æ¢å¤æ•°æ®åº“
docker-compose exec -T apd sqlite3 /app/data/apd.db < backup.sql
```

---

## ç¬¬äº”ç« ï¼šæœ€ä½³å®è·µ

### 5.1 å†…å®¹è·å–ç­–ç•¥

#### æŒ‰å‘¨å¤„ç†ï¼ˆæ¨èï¼‰

**ä¼˜åŠ¿**:
- æ‰¹é‡å¤„ç†ï¼Œæ•ˆç‡é«˜
- å†…å®¹è¿ç»­æ€§å¥½
- ä¾¿äºç®¡ç†å’Œå½’æ¡£

**æµç¨‹**:

```bash
# æ¯å‘¨ä¸€æ‰§è¡Œ
WEEK=$(date +%Y-%V)
apd upload --week $WEEK --max 30
```

#### æŒ‰æ—¥å¤„ç†

**é€‚ç”¨åœºæ™¯**:
- è¿½æ±‚æ—¶æ•ˆæ€§
- å†…å®¹é‡è¾ƒå°
- éœ€è¦æ¯æ—¥æ›´æ–°

**æµç¨‹**:

```bash
# æ¯å¤©æ‰§è¡Œ
DATE=$(date +%Y-%m-%d)
apd upload --date $DATE --max 10
```

### 5.2 è´¨é‡æ§åˆ¶å»ºè®®

#### è®¾ç½®åˆç†çš„è´¨é‡é˜ˆå€¼

```bash
# å®½æ¾æ¨¡å¼ï¼ˆé€‚åˆæ–°æ‰‹ï¼‰
MIN_QUALITY_SCORE=40.0

# å¹³è¡¡æ¨¡å¼ï¼ˆæ¨èï¼‰
MIN_QUALITY_SCORE=60.0

# ä¸¥æ ¼æ¨¡å¼ï¼ˆé«˜è´¨é‡å†…å®¹ï¼‰
MIN_QUALITY_SCORE=80.0
```

#### å®šæœŸå®¡æŸ¥è¢«è¿‡æ»¤çš„å†…å®¹

```bash
# æŸ¥çœ‹è¢«è¿‡æ»¤çš„å†…å®¹
apd status --week 2026-05 --status FILTERED --show-scores

# å¦‚æœå‘ç°å¥½å†…å®¹è¢«è¯¯è¿‡æ»¤ï¼Œé™ä½é˜ˆå€¼
```

### 5.3 å‘å¸ƒç­–ç•¥

#### æœ€ä½³å‘å¸ƒæ—¶é—´

æ ¹æ®å¹³å°ç‰¹ç‚¹é€‰æ‹©å‘å¸ƒæ—¶é—´ï¼š

| å¹³å° | æœ€ä½³æ—¶é—´ | åŸå›  |
|------|---------|------|
| æŠ–éŸ³ | 12:00-14:00, 18:00-22:00 | åˆä¼‘å’Œæ™šé—´æ´»è·ƒ |
| Bç«™ | 19:00-23:00 | æ™šé—´é«˜å³° |
| å°çº¢ä¹¦ | 12:00-13:00, 21:00-23:00 | åˆä¼‘å’Œç¡å‰ |

#### å‘å¸ƒé¢‘ç‡å»ºè®®

- æŠ–éŸ³: æ¯å¤© 1-3 ä¸ªè§†é¢‘
- Bç«™: æ¯å‘¨ 3-5 ä¸ªè§†é¢‘
- å°çº¢ä¹¦: æ¯å¤© 1-2 ä¸ªè§†é¢‘

#### æ ‡ç­¾ç­–ç•¥

**é€šç”¨æ ‡ç­¾**:
- #AI
- #äººå·¥æ™ºèƒ½
- #ç§‘æŠ€
- #å­¦æœ¯

**è®ºæ–‡ç‰¹å®šæ ‡ç­¾**:
- #è®ºæ–‡è§£è¯»
- #å­¦æœ¯å‰æ²¿
- #æœºå™¨å­¦ä¹ 
- #æ·±åº¦å­¦ä¹ 

**GitHub ç‰¹å®šæ ‡ç­¾**:
- #GitHub
- #å¼€æºé¡¹ç›®
- #ç¼–ç¨‹
- #æŠ€æœ¯åˆ†äº«

### 5.4 æ•°æ®ç®¡ç†

#### å®šæœŸæ¸…ç†

```bash
# æ¸…ç† 30 å¤©å‰çš„ PDF
find data/pdfs -mtime +30 -delete

# æ¸…ç† 60 å¤©å‰çš„è§†é¢‘
find data/videos -mtime +60 -delete
```

#### æ•°æ®åº“ç»´æŠ¤

```bash
# å¤‡ä»½æ•°æ®åº“
sqlite3 data/apd.db .dump > backup-$(date +%Y%m%d).sql

# å‹ç¼©æ•°æ®åº“
sqlite3 data/apd.db "VACUUM;"
```

### 5.5 æ€§èƒ½ä¼˜åŒ–

#### å¹¶å‘å¤„ç†

```bash
# åŒæ—¶å¤„ç†å¤šä¸ªå‘¨çš„å†…å®¹
apd upload --week 2026-05 --max 20 &
apd upload --week 2026-06 --max 20 &
wait
```

#### æ‰¹é‡ä¸‹è½½

```bash
# æ‰¹é‡ä¸‹è½½å¤šå‘¨è§†é¢‘
for week in 05 06 07 08; do
  apd download-video --week 2026-$week --headful
done
```

---

## ç¬¬å…­ç« ï¼šæ•…éšœæ’é™¤

### 6.1 å¸¸è§é—®é¢˜

#### é—®é¢˜ 1: Docker å®¹å™¨æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**: `docker-compose up` å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. æŸ¥çœ‹è¯¦ç»†é”™è¯¯
docker-compose logs

# 2. æ£€æŸ¥ç«¯å£å ç”¨
netstat -an | grep 7860

# 3. æ£€æŸ¥ .env æ–‡ä»¶
cat .env

# 4. é‡æ–°æ„å»º
docker-compose build --no-cache
docker-compose up -d
```

#### é—®é¢˜ 2: ç™»å½•çŠ¶æ€ä¸¢å¤±

**ç—‡çŠ¶**: æç¤ºéœ€è¦é‡æ–°ç™»å½•

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. æ£€æŸ¥è®¤è¯æ–‡ä»¶
ls -la data/.*.json
ls -la data/profiles/

# 2. é‡æ–°ç™»å½•
apd login
apd douyin-login
apd bilibili-login
apd xiaohongshu-login

# 3. ç¡®ä¿æ–‡ä»¶æƒé™æ­£ç¡®ï¼ˆLinux/Macï¼‰
chmod 600 data/.*.json
```

#### é—®é¢˜ 3: è§†é¢‘ç”Ÿæˆå¤±è´¥

**ç—‡çŠ¶**: çŠ¶æ€ä¸€ç›´æ˜¯ NBLM_OK

**åŸå› **: NotebookLM è§†é¢‘ç”Ÿæˆéœ€è¦æ—¶é—´

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. ç­‰å¾…è¶³å¤Ÿæ—¶é—´ï¼ˆ10-30 åˆ†é’Ÿï¼‰

# 2. æ£€æŸ¥ NotebookLM
# æ‰‹åŠ¨è®¿é—® https://notebooklm.google.com
# æŸ¥çœ‹è§†é¢‘ç”ŸæˆçŠ¶æ€

# 3. é‡è¯•ä¸‹è½½
apd download-video --week 2026-05 --force --headful
```

#### é—®é¢˜ 4: PDF ä¸‹è½½å¤±è´¥

**ç—‡çŠ¶**: çŠ¶æ€ä¸€ç›´æ˜¯ NEW

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. æ£€æŸ¥ç½‘ç»œè¿æ¥
ping arxiv.org

# 2. é‡è¯•ä¸‹è½½
apd download --week 2026-05 --force

# 3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
apd status --week 2026-05 --status ERROR
```

#### é—®é¢˜ 5: å¹³å°å‘å¸ƒå¤±è´¥

**ç—‡çŠ¶**: è§†é¢‘ä¸Šä¼ å¤±è´¥æˆ–æ— æ³•ç‚¹å‡»å‘å¸ƒ

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. æ£€æŸ¥ç™»å½•çŠ¶æ€
apd [platform]-login

# 2. ä½¿ç”¨ headful æ¨¡å¼è§‚å¯Ÿè¿‡ç¨‹
apd publish-[platform] --week 2026-05 --headful

# 3. æ£€æŸ¥è§†é¢‘æ–‡ä»¶
ls -lh data/videos/weekly/2026-05/

# 4. æŸ¥çœ‹æµè§ˆå™¨æˆªå›¾
ls data/profiles/screenshots/
```

### 6.2 è°ƒè¯•æŠ€å·§

#### å¯ç”¨è°ƒè¯•æ—¥å¿—

```bash
# æ–¹æ³• 1: å‘½ä»¤å‚æ•°
apd upload --week 2026-05 --debug

# æ–¹æ³• 2: ç¯å¢ƒå˜é‡
export DEBUG=1
apd upload --week 2026-05
```

#### ä½¿ç”¨ headful æ¨¡å¼

```bash
# æ˜¾ç¤ºæµè§ˆå™¨çª—å£ï¼Œè§‚å¯Ÿè‡ªåŠ¨åŒ–è¿‡ç¨‹
apd upload --week 2026-05 --headful
apd download-video --week 2026-05 --headful
apd publish-douyin --week 2026-05 --headful
```

#### æŸ¥çœ‹æˆªå›¾

```bash
# è‡ªåŠ¨æˆªå›¾ä¿å­˜åœ¨
ls data/profiles/screenshots/

# ä½¿ç”¨å›¾ç‰‡æŸ¥çœ‹å™¨æ‰“å¼€
```

#### æ‰‹åŠ¨å¹²é¢„

```bash
# è¿›å…¥å®¹å™¨æ‰‹åŠ¨æ“ä½œ
docker-compose exec apd bash

# æ‰§è¡Œ Python è„šæœ¬
python -c "from apd.db import list_papers; print(list_papers())"
```

### 6.3 æ€§èƒ½é—®é¢˜

#### å†…å­˜ä¸è¶³

**ç—‡çŠ¶**: å®¹å™¨è¢« OOM Killer æ€æ­»

**è§£å†³æ–¹æ¡ˆ**:

```bash
# Docker Desktop:
# Settings -> Resources -> Memory
# å¢åŠ åˆ°è‡³å°‘ 4GB

# Linux: æ·»åŠ èµ„æºé™åˆ¶
docker-compose up -d --scale apd=1 \
  --memory="4g" \
  --memory-swap="8g"
```

#### ç£ç›˜ç©ºé—´ä¸è¶³

**ç—‡çŠ¶**: æ— æ³•ä¸‹è½½ PDF æˆ–è§†é¢‘

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. æ£€æŸ¥ç£ç›˜ä½¿ç”¨
df -h

# 2. æ¸…ç†æ—§æ–‡ä»¶
find data/pdfs -mtime +30 -delete
find data/videos -mtime +60 -delete

# 3. å‹ç¼©æ•°æ®åº“
sqlite3 data/apd.db "VACUUM;"

# 4. æ¸…ç† Docker ç¼“å­˜
docker system prune -a
```

#### ç½‘ç»œæ…¢

**ç—‡çŠ¶**: ä¸‹è½½é€Ÿåº¦æ…¢

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. ä½¿ç”¨ä»£ç†
export HTTP_PROXY=http://proxy:port
export HTTPS_PROXY=http://proxy:port

# 2. å¢åŠ è¶…æ—¶æ—¶é—´
# ç¼–è¾‘ apd/config.py
REQUEST_TIMEOUT = 120  # å¢åŠ åˆ° 120 ç§’

# 3. å‡å°‘å¹¶å‘æ•°
apd upload --week 2026-05 --max 10  # å‡å°‘æ•°é‡
```

### 6.4 è·å–å¸®åŠ©

#### æŸ¥çœ‹æ–‡æ¡£

```bash
# å‘½ä»¤è¡Œå¸®åŠ©
apd --help
apd upload --help

# æŸ¥çœ‹æ–‡æ¡£
cat ç”¨æˆ·æ“ä½œæ‰‹å†Œ.md
cat DOCKER_GUIDE.md
cat XIAOHONGSHU_GUIDE.md
```

#### æäº¤ Issue

è®¿é—® [GitHub Issues](https://github.com/brianxiadong/auto-paper-digest/issues)

**åŒ…å«ä¿¡æ¯**:
- æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬
- Python ç‰ˆæœ¬
- å®Œæ•´é”™è¯¯æ—¥å¿—
- å¤ç°æ­¥éª¤
- é…ç½®æ–‡ä»¶ï¼ˆéšè—æ•æ„Ÿä¿¡æ¯ï¼‰

---

## é™„å½•ï¼šå‘½ä»¤é€ŸæŸ¥è¡¨

### å®‰è£…ä¸ç™»å½•

```bash
# Docker éƒ¨ç½²
docker-compose up -d

# æœ¬åœ°å®‰è£…
pip install -e .
playwright install chromium

# ç™»å½•
apd login                    # Google/NotebookLM
apd douyin-login            # æŠ–éŸ³
apd bilibili-login          # Bç«™
apd xiaohongshu-login       # å°çº¢ä¹¦
```

### å†…å®¹è·å–

```bash
# HuggingFace è®ºæ–‡
apd fetch --week 2026-05 --max 20
apd fetch --date 2026-02-04 --max 10

# GitHub Trending
apd fetch-github --date 2026-02-04 --language python --max 20

# çƒ­æ¦œæ–°é—»
apd fetch-news --date 2026-02-04 --source weibo --max 50
```

### è§†é¢‘å¤„ç†

```bash
# ä¸Šä¼ å¹¶ç”Ÿæˆè§†é¢‘
apd upload --week 2026-05 --headful --max 20

# ä¸‹è½½è§†é¢‘
apd download-video --week 2026-05 --headful

# å¼ºåˆ¶é‡æ–°ä¸‹è½½
apd download-video --week 2026-05 --force --headful
```

### å¹³å°å‘å¸ƒ

```bash
# HuggingFace
apd publish --week 2026-05

# æŠ–éŸ³
apd publish-douyin --week 2026-05 --headful

# Bç«™
apd publish-bilibili --week 2026-05 --headful

# å°çº¢ä¹¦
apd publish-xiaohongshu --week 2026-05 --headful
```

### çŠ¶æ€ç®¡ç†

```bash
# æŸ¥çœ‹çŠ¶æ€
apd status --week 2026-05

# æŸ¥çœ‹ç‰¹å®šçŠ¶æ€
apd status --week 2026-05 --status VIDEO_OK

# æ˜¾ç¤ºè´¨é‡è¯„åˆ†
apd status --week 2026-05 --show-scores

# è¿‡æ»¤ä½è´¨é‡
apd status --week 2026-05 --min-quality 70
```

### é«˜çº§åŠŸèƒ½

```bash
# å»é‡
apd dedup --week 2026-05 --show-details

# æ¨è
apd recommend --strategy popular --limit 10

# ç”¨æˆ·äº¤äº’
apd interact arxiv:2601.12345 --action view
```

### Docker æ“ä½œ

```bash
# å¯åŠ¨/åœæ­¢
make up / docker-compose up -d
make down / docker-compose down

# æŸ¥çœ‹æ—¥å¿—
make logs / docker-compose logs -f

# è¿›å…¥å®¹å™¨
make shell / docker-compose exec apd bash

# é‡å¯
make restart / docker-compose restart
```

---

## æ€»ç»“

æœ¬æ‰‹å†Œæ¶µç›–äº† Auto Paper Digest çš„å®Œæ•´ä½¿ç”¨æµç¨‹ï¼š

1. âœ… **å®‰è£…é…ç½®** - Docker å’Œæœ¬åœ°ä¸¤ç§æ–¹å¼
2. âœ… **åŸºç¡€ä½¿ç”¨** - ä¸‰é˜¶æ®µå·¥ä½œæµç¨‹
3. âœ… **å¹³å°å‘å¸ƒ** - æŠ–éŸ³ã€Bç«™ã€å°çº¢ä¹¦è¯¦è§£
4. âœ… **é«˜çº§åŠŸèƒ½** - è´¨é‡æ§åˆ¶ã€å»é‡ã€æ¨è
5. âœ… **æœ€ä½³å®è·µ** - å†…å®¹ç­–ç•¥å’Œæ€§èƒ½ä¼˜åŒ–
6. âœ… **æ•…éšœæ’é™¤** - å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

**éœ€è¦æ›´å¤šå¸®åŠ©ï¼Ÿ**
- ğŸ“– æŸ¥çœ‹å…¶ä»–æ–‡æ¡£: [æ–‡æ¡£åˆ—è¡¨](./README.md#æ–‡æ¡£)
- ğŸ’¬ æé—®è®¨è®º: [GitHub Discussions](https://github.com/brianxiadong/auto-paper-digest/discussions)
- ğŸ› æŠ¥å‘Šé—®é¢˜: [GitHub Issues](https://github.com/brianxiadong/auto-paper-digest/issues)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.1
**æœ€åæ›´æ–°**: 2026-02-04
**é€‚ç”¨ç¨‹åºç‰ˆæœ¬**: Auto Paper Digest v2.1+
